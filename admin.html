<div class="card">
    <h2><i class="fas fa-users"></i> Todos os Usu치rios Cadastrados</h2>
    <p style="font-size: 0.7rem; color: #94a3b8; margin-bottom: 15px;">Total de pessoas que acessaram o app.</p>
    <div class="scroll-area">
        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>WhatsApp</th>
                    <th>Cadastrado em</th>
                    <th>Amigos</th>
                    <th>A칞칚o</th>
                </tr>
            </thead>
            <tbody id="user-list"></tbody>
        </table>
    </div>
</div>

<script>
    // No seu script do PAINEL, atualize a parte que carrega os usu치rios:
    function init() {
        // ... (mantenha o c칩digo anterior de alertas e ads)

        rtdb.ref().on('value', snap => {
            const data = snap.val();
            const userTable = document.getElementById('user-list');
            userTable.innerHTML = "";

            if (data && data.usuarios_cadastrados) {
                const usuarios = data.usuarios_cadastrados;
                
                for (let id in usuarios) {
                    const user = usuarios[id];
                    // Conta quantos amigos ele convidou
                    const totalRef = (data.indicacoes && data.indicacoes[id]) ? Object.keys(data.indicacoes[id]).length : 0;
                    
                    userTable.innerHTML += `
                        <tr>
                            <td><b>${user.nome}</b></td>
                            <td>${user.whatsapp}</td>
                            <td><small>${user.dataCadastro || '---'}</small></td>
                            <td style="color:var(--warning)">游댠 ${totalRef}</td>
                            <td>
                                <a href="https://wa.me/${user.whatsapp}" target="_blank" class="btn btn-primary" style="padding:5px 10px; text-decoration:none; font-size:0.7rem">
                                    <i class="fab fa-whatsapp"></i> CONVERSAR
                                </a>
                            </td>
                        </tr>
                    `;
                }
            } else {
                userTable.innerHTML = "<tr><td colspan='5' style='text-align:center'>Nenhum usu치rio cadastrado ainda.</td></tr>";
            }
            
            // ... (mantenha a l칩gica de listar barcos abaixo)
        });
    }
</script>
